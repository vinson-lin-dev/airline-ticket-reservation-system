<!-- GUEST INTERFACE -->
 
{% extends "base.html" %}

{% block content %}
    <h1>Welcome to the Airline Booking System!</h1>
    
    <!-- Search Form -->
    <h2>Search for Flights</h2>
    <form action="{{ url_for('search_flights') }}" method="GET">
        <label for="source">Departure Airport:</label>
        <input type="text" id="source" name="source" list="departure_airports" placeholder="Departure Airport" required>
        
        <label for="destination">Arrival Airport:</label>
        <input type="text" id="destination" name="destination" list="arrival_airports" placeholder="Arrival Airport" required>
        
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required>
        
        <button type="submit">Search Flights</button>
    </form>

    <datalist id="departure_airports">
        {% for airport in departure_airports %}
        <option value="{{ airport['departure_airport'] }}">
        {% endfor %}
    </datalist>
    
    <datalist id="arrival_airports">
        {% for airport in arrival_airports %}
        <option value="{{ airport['arrival_airport'] }}">
        {% endfor %}
    </datalist>

    <!-- <datalist id="airports">
        <option value="ORD">
        <option value="JFK">
        <option value="LAX">
    </datalist> -->

    <br>
    <br>
    <br>

    <h2>Suggested Flights</h2>
    <h3>Click Flight For Further Details</h3>
    <table>
        <thead>
            <tr>
                <th>Flight Number</th>
                <th>Departure Airport</th>
                <th>Arrival Airport</th>
                <th>Departure Date</th>
                <th>Arrival Date</th>
                <th>Price</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for flight in flights %}
            <tr>
                <td>{{ flight['flight_num'] }}</td>
                <td>{{ flight['departure_airport'] }}</td>
                <td>{{ flight['arrival_airport'] }}</td>
                <td>{{ flight['departure_time'] }}</td>
                <td>{{ flight['arrival_time'] }}</td>
                <td>${{ flight['price'] }}</td>
                <td>{{ flight['status'] }}</td>
                <td>
                    <a href="{{ url_for('flight_details', flight_num=flight['flight_num']) }}">View Details</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
